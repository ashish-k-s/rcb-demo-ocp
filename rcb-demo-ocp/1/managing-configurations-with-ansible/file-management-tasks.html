<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>File management tasks :: OpenShift Basics</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">OpenShift Basics</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rcb-demo-ocp" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">OpenShift Basics</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction-to-container-orchestration-and-its-benefits/introduction-to-container-orchestration-and-its-benefits.html">Introduction to container orchestration and its benefits</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction-to-container-orchestration-and-its-benefits/overview-of-kubernetes-and-red-hat-openshift.html">Overview of Kubernetes and Red Hat OpenShift</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../understanding-openshift-architecture-and-components/understanding-openshift-architecture-and-components.html">Understanding OpenShift architecture and components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../understanding-openshift-architecture-and-components/nodes-pods-services-and-deployments.html">Nodes, Pods, Services, and Deployments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../understanding-openshift-architecture-and-components/routes-ingress-and-network-policies.html">Routes, Ingress, and Network Policies</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../deploying-applications-on-openshift/deploying-applications-on-openshift.html">Deploying applications on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-applications-on-openshift/creating-projects-and-users.html">Creating projects and users</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-applications-on-openshift/building-container-images.html">Building container images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-applications-on-openshift/using-source-to-image-s2i-for-application-deployment.html">Using Source-to-Image (S2I) for application deployment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../hands-on-labs/hands-on-labs.html">Hands-on Labs</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-labs/deploy-application-in-openshift.html">Deploy application in OpenShift</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OpenShift Basics</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">OpenShift Basics</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">OpenShift Basics</a></li>
    <li><a href="file-management-tasks.html">File management tasks</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">File management tasks</h1>
<div class="sect1">
<h2 id="_managing_configurations_with_ansible"><a class="anchor" href="#_managing_configurations_with_ansible"></a>Managing Configurations with Ansible</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ansible excels at managing configurations, and file management is a crucial part of this capability. With Ansible, you can easily deploy, modify, or remove files on remote systems, ensuring consistent configuration across your infrastructure. This section will cover:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Using the <code>copy</code> module</strong>
The <code>copy</code> module in Ansible is used to copy files from the control node to managed nodes. It supports various options for managing file properties like ownership, mode, and backup.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Syntax</strong>:
<code>` AsciiDoc
copy: &lt;src&gt; &lt;dest&gt; [options]
</code>`</p>
</li>
<li>
<p><strong>Options</strong>:</p>
</li>
<li>
<p><code>src</code>: The source file or directory path on the control node.</p>
</li>
<li>
<p><code>dest</code>: The destination path on the managed nodes.</p>
</li>
<li>
<p><code>mode</code>: File permissions (octal).</p>
</li>
<li>
<p><code>owner</code>, <code>group</code>: User and group ownership.</p>
</li>
<li>
<p><code>backup</code>: Create a backup of the existing file before copying.</p>
</li>
<li>
<p><code>checksum</code>: Verify the file&#8217;s checksum.</p>
</li>
<li>
<p><code>force</code>: Overwrite the destination if it already exists.</p>
</li>
<li>
<p><strong>Example</strong>:
<code>`</code> AsciiDoc
---</p>
</li>
<li>
<p>name: Copy a local file to remote servers
hosts: all
tasks:</p>
</li>
<li>
<p>name: Ensure /tmp/hello.txt exists on remote nodes
      copy:
        src: ../files/hello.txt
        dest: /tmp/hello.txt
        mode: '0755'
<code>`</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Using the <code>template</code> module</strong>
The <code>template</code> module in Ansible allows you to create dynamic configuration files by combining Jinja2 templating with file operations. It reads a template file and renders it using variables, enabling you to manage configurations based on specific requirements.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Syntax</strong>:
<code>` AsciiDoc
template: &lt;template_file&gt; &lt;dest_file&gt; [options]
</code>`</p>
</li>
<li>
<p><strong>Options</strong>:</p>
</li>
<li>
<p><code>src</code>: The path to the Jinja2 template file on the control node.</p>
</li>
<li>
<p><code>dest</code>: The destination path for the rendered file on managed nodes.</p>
</li>
<li>
<p><code>vars</code>: A dictionary of variables to use in rendering the template.</p>
</li>
<li>
<p><strong>Example</strong>:
Create a template file named <code>myconfig.j2</code> with the following content:
<code>`
# myconfig.j2
My custom configuration: {{ ansible_hostname }}
</code>`</p>
<div class="literalblock">
<div class="content">
<pre>Then, use the `template` module in your playbook:
``` AsciiDoc
---
- name: Render a template and copy it to remote servers
  hosts: all
  tasks:
    - name: Ensure /etc/customconfig exists and is templated
      template:
        src: myconfig.j2
        dest: /etc/customconfig
```</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Using the <code>file</code> module</strong>
The <code>file</code> module in Ansible manages files and directories, allowing you to create, remove, or modify files on managed nodes. It supports various options for handling file properties like ownership, mode, state, and recursive operations.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Syntax</strong>:
<code>` AsciiDoc
file: &lt;path&gt; [options]
</code>`</p>
</li>
<li>
<p><strong>Options</strong>:</p>
</li>
<li>
<p><code>path</code>: The target path for file/directory creation or modification.</p>
</li>
<li>
<p><code>state</code>: Ensure the file or directory is present (absent) or absent (present).</p>
</li>
<li>
<p><code>mode</code>: File permissions (octal).</p>
</li>
<li>
<p><code>owner</code>, <code>group</code>: User and group ownership.</p>
</li>
<li>
<p><code>recurse</code>: Apply to directories recursively.</p>
</li>
<li>
<p><strong>Example</strong>:
<code>`</code> AsciiDoc
---</p>
</li>
<li>
<p>name: Ensure /tmp/customdir exists and is a directory
file:
  path: /tmp/customdir
  state: directory
  mode: '0755'</p>
</li>
<li>
<p>name: Ensure /tmp/customfile exists with specific permissions
  file:
    path: /tmp/customfile
    state: file
    mode: '0644'
<code>`</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>By mastering these file management tasks in Ansible, you can efficiently automate the configuration and maintenance of your infrastructure. Practice implementing these concepts through hands-on lab activities to enhance your understanding and proficiency.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
